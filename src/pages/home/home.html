<ion-header class="header-controls">

  <ion-navbar color="primary">
    <ion-title>
      Cost Split Calculator
    </ion-title>
    <ion-buttons end>
      <!-- <button ion-button icon-only (click)="openModal()"> -->
      <button ion-button icon-only (click)="calculate()">
          <ion-icon name="checkmark"></ion-icon>
        </button>
    </ion-buttons>
  </ion-navbar>

  <ion-list padding>
    <ion-item>
      <ion-label fixed>Total w/tax</ion-label>
      <ion-input type="number" [(ngModel)]="totalWithTax"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label fixed>Tax rate</ion-label>
      <ion-input type="number" [(ngModel)]="taxRate"></ion-input>
    </ion-item>
  </ion-list>

</ion-header>

<ion-content padding class="cards-bg">

  <ion-list class="">

    <ion-card *ngFor="let card of expenseCards">

      <ion-card-header>
        {{ card.name }}
      </ion-card-header>

      <ion-card-content>

        <ion-list>
          <ion-item *ngFor="let expense of card.expenses">
            <button ion-button item-start (click)="removeExpense(expense, card.expenses)">
              <ion-icon name="trash"></ion-icon>
            </button>
            <ion-input type="number" placeholder="Personal Expense" [(ngModel)]="expense.value"></ion-input>
          </ion-item>
        </ion-list>

      </ion-card-content>

      <ion-row>
        <ion-col>
          <button ion-button full icon-left clear small (click)="addExpense(card)">
              <ion-icon name="add"></ion-icon>
              <div>Add Personal Expense</div>
            </button>
        </ion-col>
      </ion-row>

    </ion-card>

  </ion-list>

  <ion-fab right bottom>
    <button ion-fab (click)="addNewCard()"><ion-icon name="add"></ion-icon></button>
  </ion-fab>

</ion-content>
